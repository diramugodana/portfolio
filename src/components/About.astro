---
import Section from "./Section.astro";
import { Image } from "astro:assets";
import type { AboutProps, HeroProps } from "@types";

type Props = AboutProps &
  Pick<HeroProps, "name"> & {
    resumePath?: string;
    specializations?: { title: string; body: string }[];
  };

const { description, image, name, resumePath, specializations = [] } = Astro.props;
---

<Section text="About Me" href="about">
  <div class="flex flex-col items-center gap-12 md:flex-row md:gap-8">
    <p class="w-auto text-base text-[var(--color-white)]/90 md:pr-5">{description}</p>

    <div class="h-80 w-64 flex-shrink-0 rotate-[5deg] bg-white p-4 md:rotate-[7deg]">
      <Image class="object-cover" src={image} width="260" height="260" alt={name} />
    </div>
  </div>

  {resumePath && (
    <div class="mt-6 flex justify-center md:justify-start">
      <a
        href={resumePath}
        target="_blank"
        rel="noopener"
        class="btn btn-primary"
      >
        Download Résumé
      </a>
    </div>
  )}

  {specializations.length > 0 && (
    <section class="mt-8 card">
      <h3 class="text-xl font-semibold">My Areas of Specialization</h3>
      <div class="mt-5 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        {specializations.map((it, i) => (
          <article class="rounded-2xl border border-white/10 bg-white/5 p-4">
            <div class="text-xs opacity-70">0{String(i + 1)}</div>
            <h4 class="mt-1 text-lg font-medium text-white">{it.title}</h4>
            <p class="mt-2 text-sm text-[var(--color-neutral)]">{it.body}</p>
          </article>
        ))}
      </div>
    </section>
  )}
</Section>
